import{W as S,r as y,j as e,a as z}from"./app-bfca789f.js";import{A as C}from"./AccountLayout-1c3ad765.js";import{N as l}from"./NumberWithComma-33cbe42f.js";import{A as f}from"./ApplicationLogo-e05fb370.js";import{C as R}from"./List-0d824f1b.js";import{T as r}from"./Typography-167ed09c.js";import{B as s}from"./Box-6d5617a7.js";import{T,a as _,b as k,c as a,d as n,e as D}from"./TableRow-33b117d6.js";import{D as B}from"./Divider-ca1ecf17.js";import{B as h}from"./Button-cc2979e5.js";import{M as A,B as W,F as I}from"./Modal-412f03d8.js";import{T as O}from"./TextField-470e9fa2.js";import"./AppBar-864d2102.js";import"./FlashMessage-5076cc4d.js";import"./clsx-2dc4ea28.js";import"./styled-1a14c428.js";import"./TransitionGroupContext-9a834f65.js";import"./ButtonBase-1745f224.js";import"./index-3460d290.js";import"./Select-7f8e6ae7.js";import"./extendSxProp-7334409b.js";const q=d=>{const i={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return new Date(d).toLocaleDateString(void 0,i)};function te(d){const i=d.order,{data:c,setData:x,put:m,processing:j,errors:E}=S({review:i.review_by_customer}),p=t=>{t.preventDefault(),m(route("reviewByCustomer",i.id),c),o(!1)},g=t=>{t.preventDefault(),m(route("deleteReview",i.id)),o(!1),x({review:""})},[u,o]=y.useState(!1),b=()=>o(!0),v=()=>o(!1),w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"70%",sm:"50%",md:390},bgcolor:"background.paper",borderRadius:3,boxShadow:24,p:4};return e.jsxs(C,{children:[e.jsx(z,{title:i.user.name}),e.jsxs(R,{maxWidth:"xs",children:[e.jsxs(r,{fontSize:12,color:"primary",align:"right",children:["Order date: ",q(i.created_at)]}),e.jsxs(s,{width:"100%",display:"flex",gap:2,children:[e.jsxs(s,{sx:{p:2,borderRadius:2,backgroundColor:"#efefef",width:"60%",my:1},children:[e.jsxs(r,{fontSize:12,children:["Customer:"," ",e.jsx("b",{children:i.customer_name?i.customer_name:i.user.name})]}),e.jsxs(r,{fontSize:12,children:["Address: ",e.jsx("i",{children:i.address})]}),e.jsxs(r,{fontSize:12,children:["Order status: ",i.status]})]}),e.jsx(s,{sx:{p:2,borderRadius:2,border:"2px solid #efefef",backgroundColor:"#ffffff",width:"20%",my:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(f,{})})]}),e.jsxs(r,{align:"right",fontSize:12,mt:1,children:["Invoice no: ",i.order_number]}),e.jsx(s,{sx:{border:"1px solid #e3e3e3",borderRadius:2,width:"100%"},children:e.jsxs(T,{children:[e.jsxs(_,{children:[e.jsx(k,{children:e.jsxs(a,{children:[e.jsx(n,{align:"left",children:e.jsx(r,{fontSize:11,children:"Item"})}),e.jsx(n,{align:"left",children:e.jsx(r,{fontSize:11,children:"Price"})}),e.jsx(n,{align:"center",children:e.jsx(r,{fontSize:11,children:"Qty."})}),e.jsx(n,{align:"right",children:e.jsx(r,{fontSize:11,children:"Amount"})})]})}),e.jsxs(D,{children:[i.order_items.map(t=>e.jsxs(a,{children:[e.jsx(n,{align:"left",children:e.jsx(r,{fontSize:12,fontWeight:600,children:t.product.product_name})}),e.jsx(n,{children:e.jsxs(r,{fontSize:11,children:[e.jsx(l,{value:t.price})," "]})}),e.jsx(n,{align:"right",children:e.jsx(r,{fontSize:11,children:t.qty})}),e.jsx(n,{align:"right",children:e.jsx(r,{fontSize:11,children:e.jsx(l,{value:t.price*t.qty})})})]})),e.jsxs(a,{children:[e.jsx(n,{rowSpan:3}),e.jsx(n,{colSpan:2,children:e.jsx(r,{fontSize:11,children:"Subtotal"})}),e.jsxs(n,{align:"right",children:[e.jsx(r,{fontSize:12,children:e.jsx(l,{value:i.total_amount})})," "]})]}),e.jsxs(a,{children:[e.jsx(n,{colSpan:2,children:e.jsx(r,{fontSize:11,children:"Total"})}),e.jsx(n,{align:"right",children:e.jsxs(r,{fontSize:12,children:[e.jsx(l,{value:i.total_amount})," ","Ks"]})})]})]})]}),e.jsx(r,{fontSize:13,fontWeight:600,align:"center",mt:3,children:"Thank you for shopping with us."}),e.jsx(r,{fontSize:11,align:"center",mb:3,children:e.jsx("i",{children:"Items sold are not exchangable."})})]})}),e.jsxs(s,{sx:{my:2,border:"1px solid #e3e3e3",borderRadius:2,display:"flex",gap:1,alignItems:"center",width:"100%"},children:[e.jsx(s,{width:"25%",display:"flex",justifyContent:"center",children:e.jsx(f,{})}),e.jsxs(s,{align:"center",children:[e.jsx(r,{fontSize:13,children:"Phone: 09444845977, 09963851223"}),e.jsx(r,{fontSize:13,children:"a2pharmacy.mdy@gmail.com"})]})]}),e.jsx(B,{}),i.review_by_customer&&e.jsx(s,{sx:{width:"100%",my:2,borderRadius:3,backgroundColor:"#ba7636"},children:e.jsxs(s,{p:2,children:[e.jsx(r,{color:"white",fontSize:14,mb:1,children:"Your Review:"}),e.jsx(r,{color:"white",fontSize:13,children:e.jsx("q",{children:c.review})})]})}),e.jsx(s,{px:5,my:2,children:e.jsx(h,{variant:"outlined",fullWidth:!0,onClick:b,children:i.review_by_customer==null?" Review this order":"Edit my review"})}),e.jsx(A,{open:u,onClose:v,closeAfterTransition:!0,slots:{backdrop:W},slotProps:{backdrop:{timeout:500}},children:e.jsx(I,{in:u,children:e.jsxs(s,{sx:w,children:[e.jsx(r,{id:"transition-modal-title",variant:"h6",component:"h2",mb:2,children:"Review this order"}),e.jsx(O,{size:"small",placeholder:"Your review here ...",fullWidth:!0,multiline:!0,value:c.review,onChange:t=>x({review:t.target.value})}),e.jsx(s,{sx:{mt:4,mb:2},align:"center",children:e.jsx(h,{onClick:p,size:"small",variant:"contained",disabled:j,children:"Save"})}),e.jsx(s,{children:e.jsx(h,{color:"error",onClick:g,disabled:j,children:"Delete Review"})})]})})})]})]})}export{te as default};
