import{W as v,j as e,a as z}from"./app-bfca789f.js";import{P as S}from"./ProductDescriptionEditor-53f9be7b.js";import{A as k}from"./AdminLayout-5f79c8c8.js";import{d as w}from"./DeleteRounded-8794f0a1.js";import{C as A}from"./List-0d824f1b.js";import{T as a}from"./Typography-167ed09c.js";import{B as s}from"./Box-6d5617a7.js";import{C as D}from"./Chip-018ff428.js";import{D as m}from"./Divider-ca1ecf17.js";import{T as d}from"./TextField-470e9fa2.js";import{G as p}from"./Grid-a507ed58.js";import{B as h}from"./Button-cc2979e5.js";import"./index-28551cb9.js";import"./FlashMessage-5076cc4d.js";import"./clsx-2dc4ea28.js";import"./Modal-412f03d8.js";import"./styled-1a14c428.js";import"./TransitionGroupContext-9a834f65.js";import"./ButtonBase-1745f224.js";import"./BackButton-3d0bdef6.js";import"./extendSxProp-7334409b.js";import"./Select-7f8e6ae7.js";function Y(g){const x=g.categories,{data:i,setData:o,post:u,processing:j,progress:n,errors:P}=v({product_name:"",price:"",description:"",category:"",stock:"",images:[]}),f=r=>{const t=i.images,c=Array.from(r.target.files);o({...i,images:[...t,...c]})},y=r=>{const t=[...i.images];t.splice(r,1),setFormState({...i,images:t})},l=r=>{const{name:t,value:c}=r.target;o({...i,[t]:c})},C=r=>{o({...i,description:r})},b=r=>{r.preventDefault(),u(route("storeProduct"),i)};return e.jsxs(k,{heading:"Add New Product",children:[e.jsx(z,{title:"Add new product"}),e.jsxs(A,{maxWidth:"md",children:[x.length==0?e.jsx(a,{fontSize:12,align:"center",mb:1,children:"There is no category. Add new first"}):e.jsxs(s,{mb:2,children:[e.jsx(a,{fontSize:10,mb:1,children:"Select a category first:"}),e.jsx(s,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:x.map(r=>e.jsx(D,{label:r.category_name,size:"small",onClick:()=>o({...i,category:r.category_name}),style:{backgroundColor:i.category===r.category_name?"orange":""}},r.id))})]}),e.jsx(s,{sx:{height:200,width:320,margin:"10px auto",backgroundColor:"#dedede",borderRadius:5},children:i.images.length>0&&e.jsx(s,{children:e.jsx("div",{style:{overflowX:"auto",whiteSpace:"nowrap",maxHeight:"200px",borderRadius:20},children:i.images.map((r,t)=>e.jsxs("div",{style:{display:"inline-block",marginRight:"10px"},children:[e.jsx("img",{src:URL.createObjectURL(r),alt:`Image ${t}`,style:{maxHeight:"160px"}}),e.jsx("span",{style:{display:"block",textAlign:"center",cursor:"pointer",marginTop:"5px"},onClick:()=>y(t),children:e.jsx(w,{fontSize:"sm"})})]},t))})})}),e.jsxs("label",{variant:"outlined",className:"change-photo",children:["Add Photo",e.jsx("input",{className:"add-photo-input",type:"file",name:"images",accept:"image/png, image/jpeg, image/webp, image/HEIC",multiple:!0,onChange:f,style:{display:"none"}})]}),e.jsx(m,{}),e.jsx("form",{children:e.jsxs(s,{sx:{display:"flex",flexDirection:"column",gap:2,my:5},children:[e.jsxs(s,{children:[e.jsx(a,{fontSize:12,children:"Product Name:"}),e.jsx(d,{size:"small",fullWidth:!0,name:"product_name",onChange:l,value:i.product_name,required:!0})]}),e.jsxs(s,{children:[e.jsx(a,{fontSize:12,children:"Price:"}),e.jsx(d,{size:"small",fullWidth:!0,type:"number",name:"price",onChange:l,value:i.price,required:!0})]}),e.jsxs(s,{children:[e.jsx(a,{fontSize:12,children:"Stock:"}),e.jsx(d,{size:"small",fullWidth:!0,type:"number",name:"stock",onChange:l,value:i.stock,required:!0})]}),e.jsx(m,{}),e.jsx(m,{}),e.jsxs(s,{children:[e.jsx(a,{fontSize:12,children:"Description:"}),e.jsx(S,{handleChangeDescription:C,initialValue:i.description})]}),n&&e.jsxs("progress",{value:n.percentage,max:"100",children:[n.percentage,"%"]}),e.jsxs(p,{container:!0,children:[e.jsx(p,{item:!0,xs:6,px:3,children:e.jsx(h,{variant:"contained",size:"small",fullWidth:!0,onClick:b,disabled:j,children:"Save"})}),e.jsx(p,{item:!0,xs:6,px:3,children:e.jsx(h,{variant:"contained",color:"secondary",size:"small",fullWidth:!0,children:"Cancel"})})]})]})})]})]})}export{Y as default};
